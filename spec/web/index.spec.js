!function(){return function t(e,r,n){function i(o,u){if(!r[o]){if(!e[o]){var c="function"==typeof require&&require;if(!u&&c)return c(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var a=r[o]={exports:{}};e[o][0].call(a.exports,function(t){var r=e[o][1][t];return i(r||t)},a,a.exports,t,e,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}}()({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(2),i=t(35);r.default=function(){let t;const{emit:e,listen:r}=n.createChangeEmitter();return{sink:{next(t){e("next",t)},error(t){e("error",t)},complete(){e("complete")}},source$:{subscribe:function(e,n,i){let s=!1;const o=function(t,e,r){return"function"==typeof t?{next:t,error:e,complete:r}:{next(e){t.next(e)},error(e){t.error(e)},complete(){t.complete()}}}(e,n,i);if(t){const{key:e,error:r}=t;return u(e,r),{unsubscribe(){}}}return{unsubscribe:r(u)};function u(e,r){if(s)return;"next"!==e&&(t={key:e,error:r},s=!0);const n=o[e];n&&n(r)}},[i.default](){return this}}}}},{2:2,35:35}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.createChangeEmitter=function(){var t=[],e=t;function r(){e===t&&(e=t.slice())}return{listen:function(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var n=!0;return r(),e.push(t),function(){if(n){n=!1,r();var i=e.indexOf(t);e.splice(i,1)}}},emit:function(){for(var r=t=e,n=0;n<r.length;n++)r[n].apply(r,arguments)}}}},{}],35:[function(t,e,r){(function(n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,s,o=t(36),u=(s=o)&&s.__esModule?s:{default:s};i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==e?e:Function("return this")();var c=(0,u.default)(i);r.default=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{36:36}],3:[function(t,e,r){"use strict";var n=t(4),i=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();r.Notification=i},{4:4}],4:[function(t,e,r){"use strict";var n=t(32),i=t(33),s=t(21),o=t(31),u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,s=i.toSubscriber(t,e,r);if(n?n.call(s,this.source):s.add(this.source||!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var i;i=r.subscribe(function(e){if(i)try{t(e)}catch(t){n(t),i.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[s.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:o.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();r.Observable=u},{21:21,31:31,32:32,33:33}],32:[function(t,e,r){(function(t){"use strict";var e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=e||void 0!==t&&t||n;r.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(t,e,r){"use strict";var n=t(7),i=t(22),s=t(5);r.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(s.empty)}},{22:22,5:5,7:7}],21:[function(t,e,r){"use strict";var n=t(32);function i(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}r.observable=i(n.root),r.observable},{32:32}],31:[function(t,e,r){"use strict";var n=t(30);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:n.noop}r.pipeFromArray=i},{30:30}],5:[function(t,e,r){"use strict";r.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},{}],6:[function(t,e,r){"use strict";var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();r.Scheduler=n},{}],7:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=t(27),s=t(8),o=t(5),u=t(22),c=function(t){function e(r,n,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.empty;break;case 1:if(!r){this.destination=o.empty;break}if("object"==typeof r){r instanceof e?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,r,n,i)}}return n(e,t),e.prototype[u.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(s.Subscription);r.Subscriber=c;var h=function(t){function e(e,r,n,s){var u;t.call(this),this._parentSubscriber=e;var c=this;i.isFunction(r)?u=r:r&&(u=r.next,n=r.error,s=r.complete,r!==o.empty&&(c=Object.create(r),i.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=u,this._error=n,this._complete=s}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},{22:22,27:27,5:5,8:8}],27:[function(t,e,r){"use strict";r.isFunction=function(t){return"function"==typeof t}},{}],22:[function(t,e,r){"use strict";var n=t(32).root.Symbol;r.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",r.rxSubscriber},{32:32}],8:[function(t,e,r){"use strict";var n=t(25),i=t(28),s=t(27),o=t(34),u=t(24),c=t(23),h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,h=this._parents,f=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var b=-1,p=h?h.length:0;r;)r.remove(this),r=++b<p&&h[b]||null;if(s.isFunction(f)&&o.tryCatch(f).call(this)===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof c.UnsubscriptionError?a(u.errorObject.e.errors):[u.errorObject.e])),n.isArray(l))for(b=-1,p=l.length;++b<p;){var d=l[b];if(i.isObject(d)&&o.tryCatch(d.unsubscribe).call(d)===u.errorObject){e=!0,t=t||[];var y=u.errorObject.e;y instanceof c.UnsubscriptionError?t=t.concat(a(y.errors)):t.push(y)}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function a(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}r.Subscription=h},{23:23,24:24,25:25,27:27,28:28,34:34}],25:[function(t,e,r){"use strict";r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],28:[function(t,e,r){"use strict";r.isObject=function(t){return null!=t&&"object"==typeof t}},{}],24:[function(t,e,r){"use strict";r.errorObject={e:{}}},{}],23:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(e,t),e}(Error);r.UnsubscriptionError=i},{}],34:[function(t,e,r){"use strict";var n,i=t(24);function s(){try{return n.apply(this,arguments)}catch(t){return i.errorObject.e=t,i.errorObject}}r.tryCatch=function(t){return n=t,s}},{24:24}],9:[function(t,e,r){"use strict";var n=t(4),i=t(14);n.Observable.of=i.of},{14:14,4:4}],14:[function(t,e,r){"use strict";var n=t(11);r.of=n.ArrayObservable.of},{11:11}],10:[function(t,e,r){"use strict";var n=t(4),i=t(15);n.Observable.prototype.delay=i.delay},{15:15,4:4}],15:[function(t,e,r){"use strict";var n=t(20),i=t(16);r.delay=function(t,e){return void 0===e&&(e=n.async),i.delay(t,e)(this)}},{16:16,20:20}],11:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=t(4),s=t(13),o=t(12),u=t(29),c=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var i=t.length;return i>1?new e(t,n):1===i?new s.ScalarObservable(t[0],n):new o.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e[r]),i.closed||(t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.array,n=r.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:r,index:0,count:n,subscriber:t});for(var s=0;s<n&&!t.closed;s++)t.next(r[s]);t.complete()},e}(i.Observable);r.ArrayObservable=c},{12:12,13:13,29:29,4:4}],29:[function(t,e,r){"use strict";r.isScheduler=function(t){return t&&"function"==typeof t.schedule}},{}],13:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;e?n.complete():(n.next(r),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t});t.next(r),t.closed||t.complete()},e}(t(4).Observable);r.ScalarObservable=i},{4:4}],12:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(t(4).Observable);r.EmptyObservable=i},{4:4}],16:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=t(20),s=t(26),o=t(7),u=t(3);r.delay=function(t,e){void 0===e&&(e=i.async);var r=s.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(r,e))}};var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.delay,this.scheduler))},t}(),h=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var s=Math.max(0,r[0].time-n.now());this.schedule(t,s)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new a(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(o.Subscriber),a=function(t,e){this.time=t,this.notification=e}},{20:20,26:26,3:3,7:7}],20:[function(t,e,r){"use strict";var n=t(18),i=t(19);r.async=new i.AsyncScheduler(n.AsyncAction)},{18:18,19:19}],26:[function(t,e,r){"use strict";r.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},{}],17:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(t(8).Subscription);r.Action=i},{8:8}],18:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=t(32),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),i.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;i.root.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(t(17).Action);r.AsyncAction=s},{17:17,32:32}],19:[function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(t(6).Scheduler);r.AsyncScheduler=i},{6:6}],30:[function(t,e,r){"use strict";r.noop=function(){}},{}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}},{}],37:[function(t,e,r){"use strict";const n=t(1).default,i=t(4).Observable;t(9),t(10);const s=t(7).Subscriber;describe("Subject",function(){describe(".source$",function(){it("should pump values right on through itself",function(t){const e=n(),r=["foo","bar"],i=e.source$.subscribe(function(t){expect(t).toBe(r.shift())},function(e){i.unsubscribe(),t(new Error("should not be called"))},function(e){i.unsubscribe(),t()});e.sink.next("foo"),e.sink.next("bar"),e.sink.complete()}),it("should pump values to multiple subscribers",function(t){const e=n(),r=["foo","bar"],i=[];let s=0,o=0;i.push(e.source$.subscribe(function(t){expect(t).toBe(r[s++])})),i.push(e.source$.subscribe(function(t){expect(t).toBe(r[o++])},function(e){i.forEach(t=>t.unsubscribe()),t(new Error("should not be called"))},function(e){i.forEach(t=>t.unsubscribe()),t()})),e.sink.next("foo"),e.sink.next("bar"),e.sink.complete()}),it("should handle subscribers that arrive and leave at different times, subject does not complete",function(){const t=n(),e=[],r=[],i=[];t.sink.next(1),t.sink.next(2),t.sink.next(3),t.sink.next(4);const s=t.source$.subscribe(function(t){e.push(t)},function(t){e.push("E")},function(){e.push("C")});t.sink.next(5);const o=t.source$.subscribe(function(t){r.push(t)},function(t){r.push("E")},function(){r.push("C")});t.sink.next(6),t.sink.next(7),s.unsubscribe(),t.sink.next(8),o.unsubscribe(),t.sink.next(9),t.sink.next(10);const u=t.source$.subscribe(function(t){i.push(t)},function(t){i.push("E")},function(){i.push("C")});t.sink.next(11),u.unsubscribe(),expect(e).toEqual([5,6,7]),expect(r).toEqual([6,7,8]),expect(i).toEqual([11])}),it("should handle subscribers that arrive and leave at different times, subject completes",function(){const t=n(),e=[],r=[],i=[];t.sink.next(1),t.sink.next(2),t.sink.next(3),t.sink.next(4);const s=t.source$.subscribe(function(t){e.push(t)},function(t){e.push("E")},function(){e.push("C")});t.sink.next(5);const o=t.source$.subscribe(function(t){r.push(t)},function(t){r.push("E")},function(){r.push("C")});t.sink.next(6),t.sink.next(7),s.unsubscribe(),t.sink.complete(),o.unsubscribe(),t.source$.subscribe(function(t){i.push(t)},function(t){i.push("E")},function(){i.push("C")}).unsubscribe(),expect(e).toEqual([5,6,7]),expect(r).toEqual([6,7,"C"]),expect(i).toEqual(["C"])}),it("should handle subscribers that arrive and leave at different times, subject terminates with an error",function(){const t=n(),e=[],r=[],i=[];t.sink.next(1),t.sink.next(2),t.sink.next(3),t.sink.next(4);const s=t.source$.subscribe(function(t){e.push(t)},function(t){e.push("E")},function(){e.push("C")});t.sink.next(5);const o=t.source$.subscribe(function(t){r.push(t)},function(t){r.push("E")},function(){r.push("C")});t.sink.next(6),t.sink.next(7),s.unsubscribe(),t.sink.error(new Error("err")),o.unsubscribe(),t.source$.subscribe(function(t){i.push(t)},function(t){i.push("E")},function(){i.push("C")}).unsubscribe(),expect(e).toEqual([5,6,7]),expect(r).toEqual([6,7,"E"]),expect(i).toEqual(["E"])}),it("should handle subscribers that arrive and leave at different times, subject completes before nexting any value",function(){const t=n(),e=[],r=[],i=[],s=t.source$.subscribe(function(t){e.push(t)},function(t){e.push("E")},function(){e.push("C")}),o=t.source$.subscribe(function(t){r.push(t)},function(t){r.push("E")},function(){r.push("C")});s.unsubscribe(),t.sink.complete(),o.unsubscribe(),t.source$.subscribe(function(t){i.push(t)},function(t){i.push("E")},function(){i.push("C")}).unsubscribe(),expect(e).toEqual([]),expect(r).toEqual(["C"]),expect(i).toEqual(["C"])}),it("should support subscription from an RxJS Subscriber",function(t){const e=n(),r=["foo","bar"],i=new Error("boom"),o=e.source$.subscribe(s.create(function(t){expect(t).toBe(r.shift())},function(e){expect(e).toBe(i),o.unsubscribe(),t()},function(e){o.unsubscribe(),t(new Error("should not be called"))}));e.sink.next("foo"),e.sink.next("bar"),e.sink.error(i)})}),describe(".sink",function(){it("should be an Observer which can be given to Observable.subscribe",function(t){const e=i.of(1,2,3,4,5),r=n(),s=[1,2,3,4,5],o=r.source$.subscribe(function(t){expect(t).toBe(s.shift())},function(e){o.unsubscribe(),t(new Error("should not be called"))},function(e){o.unsubscribe(),t()});e.subscribe(r.sink)}),it("should be usable as an Observer of a finite delayed Observable",function(t){const e=i.of(1,2,3).delay(50),r=n(),s=[1,2,3];r.source$.subscribe(function(t){expect(t).toBe(s.shift())},function(e){t(new Error("should not be called"))},function(){t()}),e.subscribe(r.sink)}),it("should not next after completed",function(){const t=n(),e=[],r=t.source$.subscribe(t=>e.push(t),null,()=>e.push("C"));t.sink.next("a"),t.sink.complete(),t.sink.next("b"),expect(e).toEqual(["a","C"]),r.unsubscribe()}),it("should not next after error",function(){const t=new Error("wut?"),e=n(),r=[],i=e.source$.subscribe(t=>r.push(t),t=>r.push(t));e.sink.next("a"),e.sink.error(t),e.sink.next("b"),expect(r).toEqual(["a",t]),i.unsubscribe()})})})},{1:1,10:10,4:4,7:7,9:9}]},{},[37]);
